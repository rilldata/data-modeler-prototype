model: ad_bids_mini
display_name: Ad bids
description:

timeseries: timestamp
smallest_time_grain: ""

dimensions:
  - name: publisher
    display_name: Publisher
    expression: upper(publisher)
    description: ""
  - display_name: Domain
    column: domain
    description: ""

measures:
  - name: bid's number
    display_name: "Number of bids"
    expression: count(*)
  - name: total volume
    display_name: "Total volume"
    expression: sum(volume)
  - name: total impressions
    display_name: "Total impressions"
    expression: sum(impressions)
  - name: total click"s
    display_name: "Total clicks"
    expression: sum(clicks)

security:
  access: true
  row_filter: "domain = '{{ .user.domain }}'"  
  exclude:
    - if: "'{{ .user.domain }}' != 'msn.com'"
      names: 
        - total volume
